{"remainingRequest":"D:\\NottinghamWall\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\NottinghamWall\\admin\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\NottinghamWall\\admin\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\NottinghamWall\\admin\\src\\permission.ts","dependencies":[{"path":"D:\\NottinghamWall\\admin\\src\\permission.ts","mtime":1691639154853},{"path":"D:\\NottinghamWall\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NottinghamWall\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\NottinghamWall\\admin\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\NottinghamWall\\admin\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\NottinghamWall\\\\admin\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"D:\\\\NottinghamWall\\\\admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nvar _nprogress = _interopRequireDefault(require(\"nprogress\"));\n\nrequire(\"nprogress/nprogress.css\");\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\n_nprogress.default.configure({\n  'showSpinner': false\n});\n\n_router.default.beforeEach(\n/*#__PURE__*/\nfunction () {\n  var _ref = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, _, next) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _nprogress.default.start();\n\n            if (_jsCookie.default.get('token')) {\n              next();\n            } else {\n              if (!to.meta.notNeedAuth) {\n                next('/login');\n              } else {\n                next();\n              }\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n_router.default.afterEach(function (to) {\n  _nprogress.default.done();\n\n  document.title = to.meta.title;\n});",{"version":3,"sources":["D:\\NottinghamWall\\admin\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\NottinghamWall\\admin\\src\\permission.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AAIA;;AAEA,mBAAU,SAAV,CAAoB;AAAE,iBAAe;AAAjB,CAApB;;AAEA,gBAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB,iBAAO,EAAP,EAAkB,CAAlB,EAA4B,IAA5B;AAAA;AAAA;AAAA;AAAA;AAChB,+BAAU,KAAV;;AACA,gBAAI,kBAAQ,GAAR,CAAY,OAAZ,CAAJ,EAA0B;AACxB,cAAA,IAAI;AACL,aAFD,MAEO;AACL,kBAAI,CAAC,EAAE,CAAC,IAAH,CAAQ,WAAb,EAA0B;AACxB,gBAAA,IAAI,CAAC,QAAD,CAAJ;AACD,eAFD,MAEO;AACL,gBAAA,IAAI;AACL;AACF;;AAVe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;;AAaA,gBAAO,SAAP,CAAiB,UAAC,EAAD,EAAc;AAC7B,qBAAU,IAAV;;AACA,EAAA,QAAQ,CAAC,KAAT,GAAiB,EAAE,CAAC,IAAH,CAAQ,KAAzB;AACD,CAHD","sourcesContent":["import router from './router'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport { Message } from 'element-ui'\r\nimport { Route } from 'vue-router'\r\nimport { UserModule } from '@/store/modules/user'\r\nimport Cookies from 'js-cookie'\r\n\r\nNProgress.configure({ 'showSpinner': false })\r\n\r\nrouter.beforeEach(async (to: Route, _: Route, next: any) => {\r\n  NProgress.start()\r\n  if (Cookies.get('token')) {\r\n    next()\r\n  } else {\r\n    if (!to.meta.notNeedAuth) {\r\n      next('/login')\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n})\r\n\r\nrouter.afterEach((to: Route) => {\r\n  NProgress.done()\r\n  document.title = to.meta.title\r\n})\r\n"],"sourceRoot":""}]}